{"ast":null,"code":"var _jsxFileName = \"/Users/songjuhyeong/Desktop/nursing_frontend/src/components/Diary/DiaryForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DiaryForm() {\n  _s();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [image, setImage] = useState(null);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const history = useHistory();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    try {\n      const formData = new FormData();\n      formData.append('title', title);\n      formData.append('content', content);\n      if (image) {\n        formData.append('image', image);\n      }\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/diary`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('일기 작성에 실패했습니다.');\n      }\n      setShowSuccess(true);\n      setTimeout(() => {\n        history.push('/');\n      }, 3000);\n    } catch (error) {\n      console.error('일기 작성 에러:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"diary-form\",\n    children: [showSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"success-icon\",\n        children: \"\\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC18C\\uC911\\uD55C \\uC21C\\uAC04\\uC774 \\uC800\\uC7A5\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"success-icon\",\n        children: \"\\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC624\\uB298\\uC758 \\uD2B9\\uBCC4\\uD55C \\uC21C\\uAC04\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: content,\n          onChange: e => setContent(e.target.value),\n          placeholder: \"\\uC624\\uB298\\uC758 \\uD2B9\\uBCC4\\uD55C \\uC21C\\uAC04\\uC744 \\uAE30\\uB85D\\uD574\\uBCF4\\uC138\\uC694\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC0AC\\uC9C4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setImage(e.target.files[0]),\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC21C\\uAC04\\uC744 \\uAE30\\uB85D\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(DiaryForm, \"XrQCeOFaioTZwHwg66UVIMNeLKs=\", false, function () {\n  return [useHistory];\n});\n_c = DiaryForm;\nexport default DiaryForm;\nvar _c;\n$RefreshReg$(_c, \"DiaryForm\");","map":{"version":3,"names":["React","useState","axios","useHistory","jsxDEV","_jsxDEV","DiaryForm","_s","title","setTitle","content","setContent","image","setImage","showSuccess","setShowSuccess","history","handleSubmit","e","preventDefault","token","localStorage","getItem","formData","FormData","append","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","ok","Error","setTimeout","push","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","files","accept","_c","$RefreshReg$"],"sources":["/Users/songjuhyeong/Desktop/nursing_frontend/src/components/Diary/DiaryForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nfunction DiaryForm() {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [image, setImage] = useState(null);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    \n    try {\n      const formData = new FormData();\n      formData.append('title', title);\n      formData.append('content', content);\n      if (image) {\n        formData.append('image', image);\n      }\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/diary`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error('일기 작성에 실패했습니다.');\n      }\n\n      setShowSuccess(true);\n      \n      setTimeout(() => {\n        history.push('/');\n      }, 3000);\n    } catch (error) {\n      console.error('일기 작성 에러:', error);\n    }\n  };\n\n  return (\n    <div className=\"diary-form\">\n      {showSuccess && (\n        <div className=\"success-message\">\n          <span className=\"success-icon\">✨</span>\n          <p>소중한 순간이 저장되었습니다!</p>\n          <span className=\"success-icon\">✨</span>\n        </div>\n      )}\n      <h2>오늘의 특별한 순간</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>제목</label>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"제목을 입력하세요\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>내용</label>\n          <textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            placeholder=\"오늘의 특별한 순간을 기록해보세요\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>사진</label>\n          <input\n            type=\"file\"\n            onChange={(e) => setImage(e.target.files[0])}\n            accept=\"image/*\"\n          />\n        </div>\n        <button type=\"submit\">\n          순간을 기록하기\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default DiaryForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}