{"ast":null,"code":"var _jsxFileName = \"/Users/songjuhyeong/Desktop/nursing_frontend/src/components/Diary/DiaryList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useHistory } from 'react-router-dom';\nimport { differenceInDays } from 'date-fns';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction DiaryList() {\n  _s();\n  const [diaries, setDiaries] = useState([]);\n  const [showList, setShowList] = useState(false);\n  const [selectedDiary, setSelectedDiary] = useState(null);\n  const [chatInput, setChatInput] = useState('');\n  const [chatResponse, setChatResponse] = useState(null);\n  const [babyAge, setBabyAge] = useState(null);\n  const [developmentInfo, setDevelopmentInfo] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      history.push('/login');\n      return;\n    }\n\n    // 아기 생일 정보 가져오기\n    const fetchBabyInfo = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user/baby-info`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        console.log('아기 정보 응답:', data); // 응답 데이터 확인\n\n        if (!data.babyBirthday) {\n          throw new Error('생일 정보가 없습니다.');\n        }\n        const ageInDays = differenceInDays(new Date(), new Date(data.babyBirthday));\n        setBabyAge(ageInDays);\n        fetchDevelopmentInfo(ageInDays);\n      } catch (error) {\n        console.error('아기 정보 조회 상세 에러:', {\n          message: error.message,\n          stack: error.stack,\n          response: error.response\n        });\n        // 에러 시에도 기본 정보 설정\n        setDevelopmentInfo({\n          title: \"아기 정보\",\n          description: \"아기의 정보를 불러오는데 실패했습니다. 회원가입 시 입력한 생일 정보를 확인해주세요.\",\n          suggestion: \"새로운 순간을 기록해볼까요?\"\n        });\n      }\n    };\n    fetchBabyInfo();\n    if (showList) {\n      fetchDiaries();\n    }\n  }, [showList, history]);\n  const fetchDiaries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/diary`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('일기 목록을 불러오는데 실패했습니다.');\n      }\n      const data = await response.json();\n      console.log('받은 일기 데이터:', data);\n      setDiaries(data);\n    } catch (error) {\n      console.error('일기 목록 조회 에러:', error);\n    }\n  };\n  const handleDiaryClick = diary => {\n    setSelectedDiary(diary);\n  };\n  const handleClosePopup = () => {\n    setSelectedDiary(null);\n  };\n\n  // 팝업 외부 클릭 시 닫기\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      handleClosePopup();\n    }\n  };\n  const handleChatSubmit = async () => {\n    if (!chatInput.trim()) return;\n    try {\n      // 디버깅: 요청 전 상태 확인\n      console.log('=== 챗봇 요청 시작 ===');\n      console.log('입력된 질문:', chatInput);\n      console.log('요청 URL:', `${process.env.REACT_APP_API_URL}/api/chat`);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n        question: chatInput\n      });\n\n      // 디버깅: 응답 확인\n      console.log('챗봇 응답 데이터:', response.data);\n      setChatResponse({\n        text: response.data.answer,\n        loading: false\n      });\n      setChatInput('');\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      // 디버깅: 에러 상세 정보\n      console.error('챗봇 에러:', {\n        message: error.message,\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        statusText: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.statusText,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data\n      });\n      setChatResponse({\n        text: \"죄송합니다. 답변을 생성하는 중 문제가 발생했습니다.\",\n        loading: false,\n        error: true\n      });\n    }\n  };\n\n  // 아이 발달 정보를 ChatGPT API로 요청\n  const fetchDevelopmentInfo = async ageInDays => {\n    try {\n      const months = Math.floor(ageInDays / 30);\n      const prompt = `아기가 생후 ${months}개월입니다. 이 시기 아기의 발달 특징과 부모가 기록하면 좋을 만한 것들을 알려주세요. 다음 형식으로 답변해주세요: {\"title\": \"현재 시기\", \"description\": \"발달 특징\", \"suggestion\": \"기록 제안\"}`;\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n        question: prompt\n      });\n\n      // API 응답을 JSON으로 파싱\n      const developmentData = JSON.parse(response.data.answer);\n      setDevelopmentInfo(developmentData);\n    } catch (error) {\n      console.error('발달 정보 조회 에러:', error);\n      // 에러 시 기본 정보 설정\n      setDevelopmentInfo({\n        title: `생후 ${Math.floor(ageInDays / 30)}개월`,\n        description: \"아기의 발달 정보를 불러오는데 실패했습니다.\",\n        suggestion: \"오늘의 특별한 순간을 기록해볼까요?\"\n      });\n    }\n  };\n  if (!showList) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [developmentInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"development-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"age-badge\",\n            children: developmentInfo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"development-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uC6B0\\uB9AC \\uC544\\uC774\\uC758 \\uBC1C\\uB2EC \\uD2B9\\uC9D5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: developmentInfo.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"suggestion-icon\",\n                children: \"\\u270F\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: developmentInfo.suggestion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/create-diary\",\n              className: \"record-button\",\n              children: \"\\uC9C0\\uAE08 \\uAE30\\uB85D\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/create-diary\",\n            className: \"main-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-icon\",\n              children: \"\\u270F\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-text\",\n              children: \"\\uC624\\uB298 \\uAE30\\uB85D\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-description\",\n              children: \"\\uC0C8\\uB85C\\uC6B4 \\uC21C\\uAC04\\uC744 \\uAE30\\uB85D\\uD574\\uBCF4\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-button\",\n            onClick: () => setShowList(true),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-icon\",\n              children: \"\\uD83D\\uDCD6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-text\",\n              children: \"\\uB2E4\\uC2DC \\uC0B4\\uD3B4\\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-description\",\n              children: \"\\uC18C\\uC911\\uD55C \\uC21C\\uAC04\\uB4E4\\uC744 \\uB2E4\\uC2DC \\uB9CC\\uB098\\uBCF4\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbot-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbot-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbot-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chatbot-icon\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uC721\\uC544 \\uB3C4\\uC6B0\\uBBF8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbot-search\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\uC721\\uC544\\uC5D0 \\uB300\\uD574 \\uBB34\\uC5C7\\uC774\\uB4E0 \\uBB3C\\uC5B4\\uBCF4\\uC138\\uC694!\",\n              className: \"chatbot-input\",\n              value: chatInput,\n              onChange: e => setChatInput(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleChatSubmit()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbot-button\",\n              onClick: handleChatSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"button-icon\",\n                children: \"\\uD83D\\uDCAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), \"\\uC9C8\\uBB38\\uD558\\uAE30\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chatbot-response ${chatResponse.loading ? 'loading' : ''} ${chatResponse.error ? 'error' : ''}`,\n            children: chatResponse.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uB2F5\\uBCC0 \\uC0DD\\uC131 \\uC911\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dots\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \".\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \".\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \".\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"response-icon\",\n                children: chatResponse.error ? '❌' : '💡'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: chatResponse.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"diary-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC6B0\\uB9AC \\uC544\\uC774\\uC758 \\uC131\\uC7A5\\uC77C\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"diary-grid\",\n      children: diaries.map(diary => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"diary-card\",\n        onClick: () => handleDiaryClick(diary),\n        children: [diary.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diary-card-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: diary.imageUrl.replace(process.env.REACT_APP_API_URL, ''),\n            alt: \"\\uC77C\\uAE30 \\uC774\\uBBF8\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diary-card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: diary.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"diary-preview\",\n            children: diary.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"diary-date\",\n            children: new Date(diary.createdAt).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, diary._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), selectedDiary && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"diary-popup-backdrop\",\n      onClick: handleBackdropClick,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"diary-popup\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"popup-close\",\n          onClick: handleClosePopup,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-content\",\n          children: [selectedDiary.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedDiary.imageUrl.replace(process.env.REACT_APP_API_URL, ''),\n              alt: \"\\uC77C\\uAE30 \\uC774\\uBBF8\\uC9C0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: selectedDiary.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"popup-date\",\n              children: new Date(selectedDiary.createdAt).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: selectedDiary.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: () => setShowList(false),\n      children: \"\\uBA54\\uC778\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n_s(DiaryList, \"TqNVBaP3PnictiEeFBp1rU20Z94=\", false, function () {\n  return [useHistory];\n});\n_c = DiaryList;\nexport default DiaryList;\nvar _c;\n$RefreshReg$(_c, \"DiaryList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useHistory","differenceInDays","jsxDEV","_jsxDEV","Fragment","_Fragment","DiaryList","_s","diaries","setDiaries","showList","setShowList","selectedDiary","setSelectedDiary","chatInput","setChatInput","chatResponse","setChatResponse","babyAge","setBabyAge","developmentInfo","setDevelopmentInfo","history","token","localStorage","getItem","push","fetchBabyInfo","response","fetch","process","env","REACT_APP_API_URL","headers","ok","Error","status","data","json","console","log","babyBirthday","ageInDays","Date","fetchDevelopmentInfo","error","message","stack","title","description","suggestion","fetchDiaries","handleDiaryClick","diary","handleClosePopup","handleBackdropClick","e","target","currentTarget","handleChatSubmit","trim","post","question","text","answer","loading","_error$response","_error$response2","_error$response3","statusText","months","Math","floor","prompt","developmentData","JSON","parse","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","type","placeholder","value","onChange","onKeyPress","key","map","imageUrl","src","replace","alt","content","createdAt","toLocaleDateString","_id","_c","$RefreshReg$"],"sources":["/Users/songjuhyeong/Desktop/nursing_frontend/src/components/Diary/DiaryList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useHistory } from 'react-router-dom';\nimport { differenceInDays } from 'date-fns';\n\nfunction DiaryList() {\n  const [diaries, setDiaries] = useState([]);\n  const [showList, setShowList] = useState(false);\n  const [selectedDiary, setSelectedDiary] = useState(null);\n  const [chatInput, setChatInput] = useState('');\n  const [chatResponse, setChatResponse] = useState(null);\n  const [babyAge, setBabyAge] = useState(null);\n  const [developmentInfo, setDevelopmentInfo] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      history.push('/login');\n      return;\n    }\n\n    // 아기 생일 정보 가져오기\n    const fetchBabyInfo = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user/baby-info`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        console.log('아기 정보 응답:', data);  // 응답 데이터 확인\n        \n        if (!data.babyBirthday) {\n          throw new Error('생일 정보가 없습니다.');\n        }\n\n        const ageInDays = differenceInDays(new Date(), new Date(data.babyBirthday));\n        setBabyAge(ageInDays);\n        fetchDevelopmentInfo(ageInDays);\n      } catch (error) {\n        console.error('아기 정보 조회 상세 에러:', {\n          message: error.message,\n          stack: error.stack,\n          response: error.response\n        });\n        // 에러 시에도 기본 정보 설정\n        setDevelopmentInfo({\n          title: \"아기 정보\",\n          description: \"아기의 정보를 불러오는데 실패했습니다. 회원가입 시 입력한 생일 정보를 확인해주세요.\",\n          suggestion: \"새로운 순간을 기록해볼까요?\"\n        });\n      }\n    };\n\n    fetchBabyInfo();\n    if (showList) {\n      fetchDiaries();\n    }\n  }, [showList, history]);\n\n  const fetchDiaries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/diary`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error('일기 목록을 불러오는데 실패했습니다.');\n      }\n\n      const data = await response.json();\n      console.log('받은 일기 데이터:', data);\n      setDiaries(data);\n    } catch (error) {\n      console.error('일기 목록 조회 에러:', error);\n    }\n  };\n\n  const handleDiaryClick = (diary) => {\n    setSelectedDiary(diary);\n  };\n\n  const handleClosePopup = () => {\n    setSelectedDiary(null);\n  };\n\n  // 팝업 외부 클릭 시 닫기\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      handleClosePopup();\n    }\n  };\n\n  const handleChatSubmit = async () => {\n    if (!chatInput.trim()) return;\n\n    try {\n      // 디버깅: 요청 전 상태 확인\n      console.log('=== 챗봇 요청 시작 ===');\n      console.log('입력된 질문:', chatInput);\n      console.log('요청 URL:', `${process.env.REACT_APP_API_URL}/api/chat`);\n\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n        question: chatInput\n      });\n      \n      // 디버깅: 응답 확인\n      console.log('챗봇 응답 데이터:', response.data);\n      \n      setChatResponse({\n        text: response.data.answer,\n        loading: false\n      });\n      setChatInput('');\n    } catch (error) {\n      // 디버깅: 에러 상세 정보\n      console.error('챗봇 에러:', {\n        message: error.message,\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data\n      });\n      \n      setChatResponse({\n        text: \"죄송합니다. 답변을 생성하는 중 문제가 발생했습니다.\",\n        loading: false,\n        error: true\n      });\n    }\n  };\n\n  // 아이 발달 정보를 ChatGPT API로 요청\n  const fetchDevelopmentInfo = async (ageInDays) => {\n    try {\n      const months = Math.floor(ageInDays / 30);\n      const prompt = `아기가 생후 ${months}개월입니다. 이 시기 아기의 발달 특징과 부모가 기록하면 좋을 만한 것들을 알려주세요. 다음 형식으로 답변해주세요: {\"title\": \"현재 시기\", \"description\": \"발달 특징\", \"suggestion\": \"기록 제안\"}`;\n\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n        question: prompt\n      });\n\n      // API 응답을 JSON으로 파싱\n      const developmentData = JSON.parse(response.data.answer);\n      setDevelopmentInfo(developmentData);\n    } catch (error) {\n      console.error('발달 정보 조회 에러:', error);\n      // 에러 시 기본 정보 설정\n      setDevelopmentInfo({\n        title: `생후 ${Math.floor(ageInDays / 30)}개월`,\n        description: \"아기의 발달 정보를 불러오는데 실패했습니다.\",\n        suggestion: \"오늘의 특별한 순간을 기록해볼까요?\"\n      });\n    }\n  };\n\n  if (!showList) {\n    return (\n      <div className=\"main-container\">\n        <div className=\"main-content\">\n          {developmentInfo && (\n            <div className=\"development-card\">\n              <div className=\"age-badge\">{developmentInfo.title}</div>\n              <div className=\"development-info\">\n                <h3>우리 아이의 발달 특징</h3>\n                <p>{developmentInfo.description}</p>\n                <div className=\"suggestion-box\">\n                  <span className=\"suggestion-icon\">✏️</span>\n                  <p>{developmentInfo.suggestion}</p>\n                </div>\n                <Link to=\"/create-diary\" className=\"record-button\">\n                  지금 기록하기\n                </Link>\n              </div>\n            </div>\n          )}\n          <div className=\"main-buttons\">\n            <Link to=\"/create-diary\" className=\"main-button\">\n              <div className=\"button-icon\">✏️</div>\n              <div className=\"button-text\">오늘 기록하기</div>\n              <div className=\"button-description\">새로운 순간을 기록해보세요</div>\n            </Link>\n            <div className=\"main-button\" onClick={() => setShowList(true)}>\n              <div className=\"button-icon\">📖</div>\n              <div className=\"button-text\">다시 살펴보기</div>\n              <div className=\"button-description\">소중한 순간들을 다시 만나보세요</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"chatbot-section\">\n          <div className=\"chatbot-container\">\n            <div className=\"chatbot-header\">\n              <span className=\"chatbot-icon\">🤖</span>\n              <h3>육아 도우미</h3>\n            </div>\n            <div className=\"chatbot-search\">\n              <input\n                type=\"text\"\n                placeholder=\"육아에 대해 무엇이든 물어보세요!\"\n                className=\"chatbot-input\"\n                value={chatInput}\n                onChange={(e) => setChatInput(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleChatSubmit()}\n              />\n              <button className=\"chatbot-button\" onClick={handleChatSubmit}>\n                <span className=\"button-icon\">💬</span>\n                질문하기\n              </button>\n            </div>\n            {chatResponse && (\n              <div className={`chatbot-response ${chatResponse.loading ? 'loading' : ''} ${chatResponse.error ? 'error' : ''}`}>\n                {chatResponse.loading ? (\n                  <div className=\"loading-indicator\">\n                    <span>답변 생성 중</span>\n                    <div className=\"loading-dots\">\n                      <span>.</span><span>.</span><span>.</span>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"response-icon\">\n                      {chatResponse.error ? '❌' : '💡'}\n                    </div>\n                    <p>{chatResponse.text}</p>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"diary-list-container\">\n      <h2>우리 아이의 성장일기</h2>\n      <div className=\"diary-grid\">\n        {diaries.map((diary) => (\n          <div \n            key={diary._id} \n            className=\"diary-card\"\n            onClick={() => handleDiaryClick(diary)}\n          >\n            {diary.imageUrl && (\n              <div className=\"diary-card-image\">\n                <img \n                  src={diary.imageUrl.replace(process.env.REACT_APP_API_URL, '')} \n                  alt=\"일기 이미지\" \n                />\n              </div>\n            )}\n            <div className=\"diary-card-content\">\n              <h3>{diary.title}</h3>\n              <p className=\"diary-preview\">{diary.content}</p>\n              <div className=\"diary-date\">\n                {new Date(diary.createdAt).toLocaleDateString()}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {selectedDiary && (\n        <div className=\"diary-popup-backdrop\" onClick={handleBackdropClick}>\n          <div className=\"diary-popup\">\n            <button className=\"popup-close\" onClick={handleClosePopup}>×</button>\n            <div className=\"popup-content\">\n              {selectedDiary.imageUrl && (\n                <div className=\"popup-image\">\n                  <img \n                    src={selectedDiary.imageUrl.replace(process.env.REACT_APP_API_URL, '')}\n                    alt=\"일기 이미지\"\n                  />\n                </div>\n              )}\n              <div className=\"popup-text\">\n                <h2>{selectedDiary.title}</h2>\n                <div className=\"popup-date\">\n                  {new Date(selectedDiary.createdAt).toLocaleDateString()}\n                </div>\n                <p>{selectedDiary.content}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <button className=\"back-button\" onClick={() => setShowList(false)}>\n        메인으로 돌아가기\n      </button>\n    </div>\n  );\n}\n\nexport default DiaryList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}